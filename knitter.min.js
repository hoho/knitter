/*!
 * knitter v0.0.1, https://github.com/hoho/knitter
 * (c) 2015 Marat Abdullin, MIT license
 */
!function(t,e){"use strict";function o(t,n,r){if(!(this instanceof o))return new o(t,n,r);if(t instanceof Node||(t=e.querySelector(t)),n instanceof Node||(n=e.querySelector(n)),!r||r instanceof Node||(r=e.querySelector(r)),t instanceof Node&&n instanceof Node&&(!r||r&&r instanceof Node)){var i=this,d=i.node=e.createElement("div");i.id=a++,i.node1=t,i.node2=n,d.className="Knitter",(r||e.body).appendChild(d),i.update(!0)}}function n(o){for(var n=o.node,i=o.node1,a=o.node2,s=n;s&&s!==e.body;)s=s.parentNode;if(!s)return void delete d[o.id];o.id in d||(d[o.id]=o);var f=i.getBoundingClientRect(),p=a.getBoundingClientRect(),l=f.left,c=f.right,h=f.top,u=f.bottom,m=p.left,b=p.right,g=p.top,v=p.bottom,y=t.pageXOffset,x=t.pageYOffset,w=y+l+(c-l)/2,M=x+h+(u-h)/2,N=y+m+(b-m)/2,K=x+g+(v-g)/2;w>N&&(s=N,N=w,w=s,s=K,K=M,M=s,s=m,m=l,l=s,s=b,b=c,c=s,s=g,g=h,h=s,s=v,v=u,u=s);for(var k,q,C,E=(c-l)/2,S=(u-h)/2,T=(b-m)/2,B=(v-g)/2,L=(K-M)/(N-w),O=Math.atan(L),R=[[w+E,M+L*E],[w-E,M-L*E],[w+S/L,M+S],[w-S/L,M-S]],z=[[N+T,K+L*T],[N-T,K-L*T],[N+B/L,K+B],[N-B/L,K-B]],A=0;A<R.length;A++){var F=R[A];if(F[0]>=w-E&&F[0]<=w+E&&F[1]>=M-S&&F[1]<=M+S)for(var H=0;H<z.length;H++){var X=z[H];X[0]>=N-T&&X[0]<=N+T&&X[1]>=K-B&&X[1]<=K+B&&(F[0]<N-T||F[0]>N+T||F[1]<K-B||F[1]>K+B)&&(q=r(F,X),(void 0===k||k>q)&&(k=q,C=F))}}k=Math.round(k)-6,s="transform:rotate("+O+"rad);",n.style.cssText=k>0?"display:block;left:"+Math.round(C[0]+3*Math.cos(O))+"px;top:"+Math.round(C[1]+3*Math.sin(O))+"px;width:"+k+"px;-webkit-"+s+"-ms-"+s+s:"display:none;"}function r(t,e){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}var i,a=1,d={},s=t.requestAnimationFrame||setTimeout;o.prototype.update=function(t){var e=this;t?s(function(){n(e)},0):n(e)},o.prototype.remove=function(){var t=this.node;t&&t.parentNode&&t.parentNode.removeChild(t),delete d[this.id]},t.Knitter=o,t.addEventListener("resize",function(){s(function(){for(var t in d)n(d[t])},0)}),i=e.createElement("style"),i.innerHTML=".Knitter{background:#000;display:none;height:2px;opacity:.4;position:absolute;-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}.Knitter:after,.Knitter:before{border-bottom:30px solid transparent;border-bottom-style:inset;border-top:30px solid transparent;border-top-style:inset;content:'';height:0;margin:-29px -40px 0 0;position:absolute;-webkit-transform:scale(.1);-ms-transform:scale(.1);transform:scale(.1);width:0}.Knitter:before{border-right:90px solid #000;margin-left:-43px}.Knitter:after{border-left:90px solid #000;right:-3px}",e.head.appendChild(i)}(window,document);