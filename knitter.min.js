/*!
 * knitter v0.0.1, https://github.com/hoho/knitter
 * (c) 2015 Marat Abdullin, MIT license
 */
!function(t,e){"use strict";function n(e,n,r){var i,a=n.getBoundingClientRect(),s=r.getBoundingClientRect(),l=a.left,d=a.right,p=a.top,f=a.bottom,c=s.left,h=s.right,u=s.top,g=s.bottom,m=t.scrollX,b=t.scrollY,x=m+l+(d-l)/2,v=b+p+(f-p)/2,y=m+c+(h-c)/2,M=b+u+(g-u)/2;x>y&&(i=y,y=x,x=i,i=M,M=v,v=i,i=c,c=l,l=i,i=h,h=d,d=i,i=u,u=p,p=i,i=g,g=f,f=i);for(var w,K,N,k=(d-l)/2,q=(f-p)/2,C=(h-c)/2,E=(g-u)/2,T=(M-v)/(y-x),B=Math.atan(T),L=[[x+k,v+T*k],[x-k,v-T*k],[x+q/T,v+q],[x-q/T,v-q]],R=[[y+C,M+T*C],[y-C,M-T*C],[y+E/T,M+E],[y-E/T,M-E]],S=0;S<L.length;S++){var z=L[S];if(z[0]>=x-k&&z[0]<=x+k&&z[1]>=v-q&&z[1]<=v+q)for(var A=0;A<R.length;A++){var F=R[A];F[0]>=y-C&&F[0]<=y+C&&F[1]>=M-E&&F[1]<=M+E&&(z[0]<y-C||z[0]>y+C||z[1]<M-E||z[1]>M+E)&&(K=o(z,F),(void 0===w||w>K)&&(w=K,N=z))}}w=Math.round(w)-6,i="transform:rotate("+B+"rad);",e.style.cssText=w>0?"display:block;left:"+Math.round(N[0]+3*Math.cos(B))+"px;top:"+Math.round(N[1]+3*Math.sin(B))+"px;width:"+w+"px;-webkit-"+i+"-ms-"+i+i:"display:none;"}function o(t,e){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}var r,i=1,a={},s=t.requestAnimationFrame||setTimeout;t.Knitter=function(t,o){if(t instanceof Node||(t=e.querySelector(t)),o instanceof Node||(o=e.querySelector(o)),t instanceof Node&&o instanceof Node){var r=e.createElement("div");r.className="Knitter",e.body.appendChild(r),s(function(){n.apply(null,a[i++]=[r,t,o])},0)}},t.addEventListener("resize",function(){s(function(){for(var t in a)n.apply(null,a[t])},0)}),r=e.createElement("style"),r.innerHTML=".Knitter{background:#000;display:none;height:1px;opacity:.4;position:absolute;-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}.Knitter:after,.Knitter:before{border-bottom:3px solid transparent;border-top:3px solid transparent;content:'';height:1px;margin:-3px 0 0;position:absolute;width:1px}.Knitter:before{border-right:9px solid #000;margin-left:-3px}.Knitter:after{border-left:9px solid #000;right:-3px}",e.head.appendChild(r)}(window,document);