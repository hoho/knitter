/*!
 * knitter v0.0.1, https://github.com/hoho/knitter
 * (c) 2015 Marat Abdullin, MIT license
 */
!function(t,e){"use strict";function n(e,n,r){var i,a=n.getBoundingClientRect(),s=r.getBoundingClientRect(),l=a.left,d=a.right,p=a.top,f=a.bottom,c=s.left,h=s.right,u=s.top,m=s.bottom,b=t.scrollX,g=t.scrollY,x=b+l+(d-l)/2,y=g+p+(f-p)/2,v=b+c+(h-c)/2,M=g+u+(m-u)/2;x>v&&(i=v,v=x,x=i,i=M,M=y,y=i,i=c,c=l,l=i,i=h,h=d,d=i,i=u,u=p,p=i,i=m,m=f,f=i);for(var w,K,k,N=(d-l)/2,q=(f-p)/2,C=(h-c)/2,E=(m-u)/2,T=(M-y)/(v-x),B=Math.atan(T),L=[[x+N,y+T*N],[x-N,y-T*N],[x+q/T,y+q],[x-q/T,y-q]],R=[[v+C,M+T*C],[v-C,M-T*C],[v+E/T,M+E],[v-E/T,M-E]],S=0;S<L.length;S++){var z=L[S];if(z[0]>=x-N&&z[0]<=x+N&&z[1]>=y-q&&z[1]<=y+q)for(var A=0;A<R.length;A++){var F=R[A];F[0]>=v-C&&F[0]<=v+C&&F[1]>=M-E&&F[1]<=M+E&&(z[0]<v-C||z[0]>v+C||z[1]<M-E||z[1]>M+E)&&(K=o(z,F),(void 0===w||w>K)&&(w=K,k=z))}}w=Math.round(w)-6,i="transform:rotate("+B+"rad);",e.style.cssText=w>0?"display:block;left:"+Math.round(k[0]+3*Math.cos(B))+"px;top:"+Math.round(k[1]+3*Math.sin(B))+"px;width:"+w+"px;-webkit-"+i+"-ms-"+i+i:"display:none;"}function o(t,e){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}var r,i=1,a={},s=t.requestAnimationFrame||setTimeout;t.Knitter=function(t,o){if(t instanceof Node||(t=e.querySelector(t)),o instanceof Node||(o=e.querySelector(o)),t instanceof Node&&o instanceof Node){var r=e.createElement("div");r.className="Knitter",e.body.appendChild(r),s(function(){n.apply(null,a[i++]=[r,t,o])},0)}},t.addEventListener("resize",function(){s(function(){for(var t in a)n.apply(null,a[t])},0)}),r=e.createElement("style"),r.innerHTML=".Knitter{background:#000;display:none;height:2px;opacity:.4;position:absolute;-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}.Knitter:after,.Knitter:before{border-bottom:30px solid transparent;border-bottom-style:inset;border-top:30px solid transparent;border-top-style:inset;content:'';height:0;margin:-29px -40px 0 0;position:absolute;-webkit-transform:scale(.1);-ms-transform:scale(.1);transform:scale(.1);width:0}.Knitter:before{border-right:90px solid #000;margin-left:-43px}.Knitter:after{border-left:90px solid #000;right:-3px}",e.head.appendChild(r)}(window,document);